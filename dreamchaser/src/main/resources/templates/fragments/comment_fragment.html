<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:>
<body>

<th:block th:fragment="commentFragment(comment)">
    <div th:if="${comment != null}" th:id="|comment-${comment.id}|"
         th:classappend="${comment.parent != null} ? 'reply' : ''" class="comment-thread">
        <div th:include="~{fragments/comment_body_fragment :: commentBody(comment=${comment})}"></div>

        <div class="reply-list" th:if="${comment.children != null and !comment.children.isEmpty()}">
            <th:block th:each="childComment : ${comment.children}">
                <div th:replace="~{fragments/comment_fragment :: commentFragment(comment=${childComment})}"></div>
            </th:block>
        </div>
    </div>
</th:block>

</body>
</html>